window.addEventListener("load", addListener);
var countvalid = "invalid", howmany = "", grades = "", gradevalid = "invalid", count = 0, grade = "", numgrade = "invalid";

function addListener() 
{
    document.getElementById("btnsubmit").addEventListener("click", AskNum);
}

function AskNum() {
	howmany = document.getElementById("txtnum").value;
	Checkhowmany()
    if (countvalid == "vaild") 
    {
		document.getElementById("lblnum").textContent = "Enter your grade(0-100):";
		document.getElementById("txtnum").value="";
        AskGrades();
    } 
    else 
    {
        howmany = document.getElementById("txtnum").value;
        Checkhowmany();
    }
}

function Checkhowmany() 
{
    if(howmany % 1 != 0 || howmany == "" || howmany <= 0 || howmany > 8)
    {
        alert("Your input is invalid, please enter a whole number between 1-8");
      	document.getElementById("txtnum").value="";
    } 
    else
    {
        countvalid = "vaild";
    }
}

function AskGrades()
{
	
	grade = document.getElementById("txtnum").value;
	grades = grade + ",";
	CheckGrade();
	if (gradevalid == "valid")
		{
			alert(grade);
			CheckNum();
			if (numgrade == "valid")
				{
					AddGrades();
				}
		}
}

function CheckGrade()
{
	if (grade < 0 || grade > 100)
		{
			alert("Your input is invalid, please enter the grade that is between 0-100.");
		}
	else
	{
		grade = document.getElementById("txtnum").value;;
		gradevalid = "valid";
		count = count + 1;
	}
}

function CheckNum()
{
	if (count == howmany)
		{
			aler("all");
			numgrade = "valid";
		}
}

function AddGrades()
{
	alert(grades);
}
